import{c as s,a as r,t as d,g as p,b as i,r as g,d as u,o as n,_ as f,e as y,F as k,f as v,h as C,i as w}from"./index-q8tzBJUL.js";const $=["src","alt"],M={class:"texts"},S={class:"name"},U={class:"uploader"};async function b(e){return(await u.get(i+"/machine/getMetadata?id="+e)).data}const x={props:{id:{type:String,required:!0}},data(){return{name:"",uploader:""}},async mounted(){const e=await b(this.id);this.name=e.name,this.uploader=(await p(e.uploader)).username}},B=Object.assign(x,{__name:"MachineCard",setup(e){function o(t){return new URL(i+"/machine/getIcon?id="+t,import.meta.url).href}function c(t){g.push("/machine?id="+t)}return(t,a)=>(n(),s("div",{class:"card",onClick:a[0]||(a[0]=m=>c(e.id))},[r("img",{src:o(e.id),alt:t.name},null,8,$),r("div",M,[r("div",S,d(t.name),1),r("div",U,"by "+d(t.uploader),1)])]))}});async function I(e){return e.length>0?(await u.get(i+"/search?key="+e)).data:[]}const N={components:{MachineCard:B},data(){return{key:"",items:[]}},async created(){this.key=this.$route.query.key,this.items=await I(this.key)}},V={class:"items-container"},q={key:0};function F(e,o,c,t,a,m){const l=C("MachineCard");return n(),s("div",V,[a.items.length===0?(n(),s("p",q,"无搜索结果")):y("",!0),(n(!0),s(k,null,v(a.items,(h,_)=>(n(),s("div",{id:"awa",class:"items-container",key:_},[w(l,{id:h},null,8,["id"])]))),128))])}const j=f(N,[["render",F]]);export{j as default};
